{% extends "base.html" %}

{% block title %}Get an Estimate{% endblock %}

{% block content %}
<section>
  <header class="major">
    <h2>Instant Estimate Tool</h2>
  </header>

<!-- Estimate Form Disclaimer -->
<div class="estimate-disclaimer" style="margin-top: 1em; font-size: 0.9em; color: #555;">
  <strong>Disclaimer:</strong> This estimate prediction tool provides an approximate cost based on the information you enter.
  Final pricing may vary depending on several factors and conditions. This tool is intended for general guidance only.
</div>

  <form method="POST">
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">


  <div class="form-group">
    <label for="service_type">Service Type</label>
    <select name="service_type" id="service_type">
      <option value="painting">Painting</option>
      <option value="epoxy">Epoxy Flooring</option>
    </select>
  </div>

  <div class="form-group">
    <label for="length">Length (ft)</label>
    <input type="number" name="length" id="length" step="0.1" required>
  </div>

  <div class="form-group">
    <label for="width">Width (ft)</label>
    <input type="number" name="width" id="width" step="0.1" required>
  </div>

  <div id="painting-fields">
    <div class="form-group">
      <label for="height">Wall Height (ft)</label>
      <input type="number" name="height" id="height" step="0.1">
    </div>

    <div class="form-group">
      <label for="full_repaint">Walls</label>
      <select name="full_repaint" id="full_repaint">
        <option value="yes">Full Repaint</option>
        <option value="no">Refresh Coat</option>
      </select>
    </div>

    <div class="form-group">
      <label for="paint_ceiling">Paint Ceiling?</label>
      <select name="paint_ceiling" id="paint_ceiling">
        <option value="no">No</option>
        <option value="yes">Yes</option>
      </select>
    </div>

    <div class="form-group">
      <label for="ceiling_repaint">Ceiling Repaint?</label>
      <select name="ceiling_repaint" id="ceiling_repaint">
        <option value="no">Fresh Coat</option>
        <option value="yes">Repaint</option>
      </select>
    </div>

    <div class="form-group">
      <label for="baseboards">Baseboards?</label>
      <select name="baseboards" id="baseboards">
        <option value="no">No</option>
        <option value="yes">Yes</option>
      </select>
    </div>

    <div class="form-group">
      <label for="crown">Crown Molding?</label>
      <select name="crown" id="crown">
        <option value="no">No</option>
        <option value="yes">Yes</option>
      </select>
    </div>
  </div>

  <button class="primary">Calculate Estimate</button>
</form>


  <!-- Display Result -->
  {% if estimate %}
    <div class="box" style="margin-top: 1em;">
      <h3>Estimated Price</h3>
      <strong>${{ estimate }}</strong>
    </div>
  {% endif %}

  <!-- Preview Image -->
  <div style="margin-top: 2em;">
    <h3>Preview</h3>
    <img id="previewImage"
         src="{{ url_for('static', filename='images/previews/interior_livingroom.jpg') }}"
         style="max-width: 100%; border-radius: 8px;">
  </div>
</section>

<!-- Estimate JS -->
<script src="{{ url_for('static', filename='assets/js/estimate.js') }}"></script>
{% endblock %}
